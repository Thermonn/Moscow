<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Moscow</title>
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;600;700&display=swap" rel="stylesheet">

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
</head>

<body>
<header class="start-page">
    <div class="header">
        <h1>Москва в годы Великой Отечественной Войны</h1>
        <div>
            <p class="name">Проект Трофимова Артёма Александровича</p>
            <!--<p class="school">Школа №1520 им.Капцовых</p>-->
        </div>
    </div>
</header>

<section style="background-color: var(--black); min-width: 100vw; min-height: 100vh; box-shadow: 0 30px 30px var(--black); position:relative; z-index: 22;">
    nothing
</section>

<!--
    <div class="map">
    <img src="https://media.istockphoto.com/vectors/black-and-white-vector-city-map-of-moscow-with-well-organized-layers-vector-id913260296" alt="">
    <img src="https://static8.depositphotos.com/1000209/1048/v/380/depositphotos_10486339-stock-illustration-moscow-map.jpg" alt="">
</div>
---->

<div style='position:relative; height: 100vh; width: 100vw;'>
    <div id='map'></div>
</div>


<script>
mapboxgl.accessToken = 'pk.eyJ1IjoidGhlcm1vbiIsImEiOiJja3k3ODlka2cwenRxMnZxY3kxd21kMzUxIn0.ZmjbPpuvTNPCnUazKleUvw';

var map = new mapboxgl.Map({
    container: 'map',
    // style: 'mapbox://styles/thermon/ckyhpenshfulv15nu9wr3kwk8',
    style: 'mapbox://styles/thermon/ckyszpiyw2s3w14lhb6h3tjfr',
    center: [37.618423, 55.751244],
    zoom: 9,
    minZoom: 6
});

const moscowPhotos = {
    "features": [
        {
        "type": "Feature",
        "properties": {
            "title": "Парк Горького",
            "description": "Зенитные орудия в Парке Горького",
            "image": "http://www.world-war.ru/wp-content/uploads/2015/06/41.jpg"
        },
        "geometry": {
            "coordinates": [37.600265, 55.727964],
            "type": "Point"
        },
        "id": "346b45f8fad60c265d9d798d1dbdb18e"
        },
        {
        "type": "Feature",
        "properties": {
            "title": "Большой Театр",
            "image": "http://www.world-war.ru/wp-content/uploads/2015/06/271.jpg",
            "description": "Маскируют Большой Театр (1941)"
        },
        "geometry": {
            "coordinates": [37.618541, 55.760239],
            "type": "Point"
        },
        "id": "a29a54372736b2a7ecf8cd556dc375f7"
        }
    ],
    "type": "FeatureCollection"
};


for (const feature of moscowPhotos.features) {
  // create a HTML element for each feature
  const el = document.createElement('div');
  el.className = 'photo-marker';
  if(feature.properties.description == ''){
    el.setAttribute("onclick", "openNav()"); //POGGERS
    console.log("Wow!");
  }

  
}


// map.on('click', (event) => {
// const features = map.queryRenderedFeatures(event.point, {
//     layers: ['moscow-points']
// });
// if (!features.length) {
//     return;
// }
// const feature = features[0];

// const popup = new mapboxgl.Popup({ offset: [0, -15] })
// .setLngLat(feature.geometry.coordinates)
// .setHTML(
//     `<img style="max-width: 100%;" src="${feature.properties.image}"></img><p style="color: black;">${feature.properties.description}</p>`
// )
// .addTo(map);
// });
</script>

</body>
</html>